# mangalib-pdf

Собиралка PDF из картинок с сайта мангалиб.

## Предварительная настройка

Перед работой нужно установить зависимости:

```
npm i
```

## Как запускать

```
node index.js --url https://mangalib.me/toradora
node index.js --url https://mangalib.me/toradora --volume 10
```

## Аутентификация

Eсли манга "приватная", т.е. например для всех манг с подсайта `hentailib`, и для всех манг помеченных знаком `18+`,
то необходимо пройти аутентификацию на сайте. Чтобы это сделать, нужно добавить аргумент к скачиванию конкретного тома манги `--auth`, например:

```
node index.js --url https://mangalib.me/mahou-shoujo-site --volume 1 --auth
```

Тогда в откроется браузер со страницей манги, и высветится надпись `АВТОРИЗАЦИЯ. По успеху, нажмите Enter...`.
После, нужно будет в этой же вкладке аутентифицироваться. Когда авторизация будет успешна, браузер **не** нужно закрывать,
а нажать `Enter` в консоли.


## Директории

Во время работы скрипт создаст 3 директории:

- `cache` - кэш html файлов скаченных с сайта. не занимает много места на диске и можно не очищать.
- `tmp` - кэш картинок. нужен для того, чтобы если скрипт завис или сломался на каком-то месте, можно было запустить его заново и он продолжит работу с того же места. обычно занимает много места на диске, и после скачивания нужных томов манги его лучше чистить (просто удалить эту папку).
- `out` - директория с выходными pdf файлами.